<!DOCTYPE html>
<html>
<head>
	<title>SkyTruth Map</title>
</head>
<!--  <script src="./node_modules/leaflet/dist/leaflet.js"></script>
  <link href="./node_modules/leaflet/dist/leaflet.css" rel="stylesheet"> -->

   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"/>
   <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <!-- <script src="./node_modules/jquery/dist/jquery.min.js"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="./node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
  <script src="./dist/bundle.js"></script>
<body>
	<!-- MAKE INPUT FIELDS TO INPUT lat/lon -->

		Latitude :<br>
  		<input id="lat" type="text" name="lat" required><br>
 		Longitude :<br>
  		<input id="lon" type="text" name="lon" required><br>
  		<button id="button">submit</button>

	<h1>SkyTruth Map (Markers Near me are shown) </h1>

	<div id="map1" style="width: 400px ; height: 300px ; "></div>


	<script type="text/javascript">
		var returned_values ;
		document.getElementById("button").addEventListener("click", function(){
			var m = document.getElementById("map1") ; 
			var lt = document.getElementById("lat").value ; 
		  	var ln = document.getElementById("lon").value ; 
			if (m.childElementCount == 0){
				var PLmap = new MainModule() ;
				var op = {
							lat: lt ,
							lon: ln , 
							n: '10' ,
							mapid: 'map1'
						} ; 
				 returned_values = PLmap.SkyTruth(op) ; 
			}
			else
			{
				returned_values.map_object.panTo(new L.LatLng(parseInt(lt), parseInt(ln))) ;
			}
		}); 
		


	</script>
	

</body>
</html>